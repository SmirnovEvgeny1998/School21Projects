# Day 04 - Piscine SQL

## Задача
1. Создайте два представления базы данных (с атрибутами, аналогичными исходной таблице) на основе простой фильтрации по полу. Задайте соответствующие имена для представлений базы данных: `v_persons_female` и `v_persons_male`.
2. Используйте два представления базы данных из упражнения №00 и напишите SQL-запрос, чтобы собрать женские и мужские имена в одном списке. Укажите порядок по имени.
3. Создайте представление базы данных (с именем `v_generated_dates`), в котором будут храниться сгенерированные даты с 1 по 31 января 2022 года в формате DATE. Не забудьте о порядке столбца generated_date.
4. Напишите оператор SQL, который возвращает пропущенные дни посещений лиц в январе 2022 года. Используйте представление `v_generated_dates` для этой задачи и отсортируйте результат по столбцу missing_date.
5. Напишите SQL-запрос, удовлетворяющий формуле `(R - S)∪(S - R)`.
Где R — таблица `person_visits` с фильтром по состоянию на 2 января 2022 года, S — также таблица `person_visits`, но с другим фильтром по состоянию на 6 января 2022 года. Выполните расчёты с наборами в столбце `person_id`, и этот столбец будет единственным в результате. Результат, пожалуйста, отсортируйте по столбцу `person_id`, а ваш окончательный SQL-запрос представьте в представлении базы данных `v_symmetric_union` (*).
6. Создайте представление базы данных `v_price_with_discount`, которое возвращает заказы клиентов с указанием имён клиентов, названий пиццы, реальной цены и вычисляемого столбца `discount_price` (с учётом применённой скидки 10% и удовлетворяющего формуле `price - price*0.1`). Отсортируйте результат по имени клиента и названию пиццы и округлите значение столбца `discount_price` до целого числа.
7. Создайте материализованное представление `mv_dmitriy_visits_and_eats` (с включёнными данными) на основе SQL-запроса, который находит название пиццерии, которую Дмитрий посетил 8 января 2022 года и смог съесть пиццу менее чем за 800 рублей (с этим SQL-запросом вы можете ознакомиться в упражнении №07 дня №02).
Для проверки вы можете написать SQL-запрос в материализованном представлении `mv_dmitriy_visits_and_eats` и сравнить результаты с вашим предыдущим запросом.
8. Давайте обновим данные в нашем материализованном представлении `mv_dmitriy_visits_and_eats` из упражнения № 06. Перед этим, пожалуйста, сгенерируйте ещё одно посещение Дмитрия, удовлетворяющее предложению SQL материализованного представления, за исключением пиццерии, которую мы видим в результате упражнения № 06.
После добавления нового посещения, пожалуйста, обновите состояние данных для `mv_dmitriy_visits_and_eats`.
9. После всех наших упражнений родилось несколько виртуальных таблиц и одно материализованное представление. Давайте их отбросим!
## Срок выполнения
Отведено: 1 день(8 часов).
Дополнительные задачи: отсутствуют.
Выполнено за 1 день.
## Тип проекта
Индивидуальный, весь проект выполнен мной.
## Используемые языки/технологии/библиотеки.
SQL, PostgreSQL.
